{"ast":null,"code":"var _jsxFileName = \"/Users/nicolaspavon/Desktop/ReposFacu/seguridadFE/src/Screens/CancelReservation.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Container, makeStyles } from \"@material-ui/core\";\nimport { useLocation } from \"react-router-dom\";\nimport { Title, TextInput } from \"../Components\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { useHistory } from \"react-router-dom\";\nimport { validateEmail } from \"../Utils/Validations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\").default;\n\nconst useStyles = makeStyles(theme => ({\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst CancelReservation = () => {\n  _s();\n\n  moment.locale(\"es\");\n  const classes = useStyles();\n  const history = useHistory();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [dataFound, setDataFound] = useState(false);\n  const [userCi, setUserCi] = useState(\"47899002\");\n  const [userEmail, setUserEmail] = useState(\"mail@gmail.com\");\n  const [reservationNumber, setReservationNumber] = useState(\"1\");\n  const [ciError, setCiError] = useState(false);\n  const [reservationNumberError, setReservationNumberError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n\n  const handleInput = e => {\n    setErrorMessage(\"\");\n    const {\n      value,\n      name\n    } = e.target;\n\n    if (name === \"userEmail\") {\n      setUserEmail(value);\n      setEmailError(!validateEmail(value));\n    } else if (name === \"userCI\") {\n      setUserCi(value);\n      setCiError(value.length !== 8);\n    } else if (name === \"reservationNumber\") {\n      setReservationNumber(value);\n      setReservationNumberError(value.length < 1);\n    }\n  };\n\n  const searchReservation = () => {\n    setLoading(true);\n    setErrorMessage(\"\");\n    const data = {\n      id: reservationNumber,\n      mail: userEmail,\n      ci: userCi\n    };\n    axios.post(\"http://localhost:8080/coronavirus/vacunacion/cancelar\", data).then(function (response) {\n      const {\n        data\n      } = response;\n\n      if (!data.message.includes(\"cancelada con exito\")) {\n        setErrorMessage(\"No se encontro ninguna reserva\");\n        setLoading(false);\n      } else {\n        setDataFound(true);\n        setLoading(false);\n      }\n    }).catch(function (error) {\n      setLoading(false);\n      setDataFound(false);\n      console.log(\"Error\", error);\n    });\n  };\n\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    children: [!dataFound && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        text: \"Cancelar Reserva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        id: \"userCI\",\n        onChange: handleInput,\n        label: \"Cedula de Identidad\",\n        name: \"userCI\",\n        error: ciError,\n        errorMessage: \"Ingrese una C.I valida\",\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        id: \"userEmail\",\n        onChange: handleInput,\n        label: \"Correo Electronico\",\n        name: \"userEmail\",\n        error: emailError,\n        errorMessage: \"Ingrese un email valido\",\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        id: \"reservationNumber\",\n        onChange: handleInput,\n        label: \"CÃ³digo de reserva\",\n        name: \"reservationNumber\",\n        error: reservationNumberError,\n        errorMessage: \"Ingrese un numero valido\",\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), !errorMessage && /*#__PURE__*/_jsxDEV(ClipLoader, {\n        color: \"blue\",\n        loading: loading,\n        css: {\n          marginVertical: 50\n        },\n        size: 30\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        children: [\" \", errorMessage, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        className: classes.submit,\n        disabled: loading || reservationNumberError || reservationNumber.length < 1 || ciError || emailError || errorMessage,\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: searchReservation,\n        children: \"Buscar Reserva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), dataFound && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        text: \"Reserva Cancelada con Exito\",\n        white: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        disabled: loading,\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => {\n          setLoading(false);\n          setDataFound(false);\n          setUserCi(\"\");\n          setReservationNumber(\"\");\n          setErrorMessage(\"\");\n          history.push(\"/\");\n        },\n        children: \"Volver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CancelReservation, \"ZfSLfJ/PPZwVi5ERWArpd2MKOdc=\", false, function () {\n  return [useStyles, useHistory, useLocation];\n});\n\n_c = CancelReservation;\nexport default CancelReservation;\n\nvar _c;\n\n$RefreshReg$(_c, \"CancelReservation\");","map":{"version":3,"sources":["/Users/nicolaspavon/Desktop/ReposFacu/seguridadFE/src/Screens/CancelReservation.jsx"],"names":["React","useState","useEffect","Button","Container","makeStyles","useLocation","Title","TextInput","ClipLoader","moment","useHistory","validateEmail","axios","require","default","useStyles","theme","submit","margin","spacing","CancelReservation","locale","classes","history","errorMessage","setErrorMessage","location","loading","setLoading","dataFound","setDataFound","userCi","setUserCi","userEmail","setUserEmail","reservationNumber","setReservationNumber","ciError","setCiError","reservationNumberError","setReservationNumberError","emailError","setEmailError","handleInput","e","value","name","target","length","searchReservation","data","id","mail","ci","post","then","response","message","includes","catch","error","console","log","marginVertical","color","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { Button, Container, makeStyles } from \"@material-ui/core\";\nimport { useLocation } from \"react-router-dom\";\nimport { Title, TextInput } from \"../Components\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { useHistory } from \"react-router-dom\";\nimport { validateEmail } from \"../Utils/Validations\";\n\nconst axios = require(\"axios\").default;\n\nconst useStyles = makeStyles((theme) => ({\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst CancelReservation = () => {\n  moment.locale(\"es\");\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const location = useLocation();\n\n  const [loading, setLoading] = useState(false);\n  const [dataFound, setDataFound] = useState(false);\n  const [userCi, setUserCi] = useState(\"47899002\");\n  const [userEmail, setUserEmail] = useState(\"mail@gmail.com\");\n  const [reservationNumber, setReservationNumber] = useState(\"1\");\n\n  const [ciError, setCiError] = useState(false);\n  const [reservationNumberError, setReservationNumberError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n\n  const handleInput = (e) => {\n    setErrorMessage(\"\");\n    const { value, name } = e.target;\n    if (name === \"userEmail\") {\n      setUserEmail(value);\n      setEmailError(!validateEmail(value));\n    } else if (name === \"userCI\") {\n      setUserCi(value);\n      setCiError(value.length !== 8);\n    } else if (name === \"reservationNumber\") {\n      setReservationNumber(value);\n      setReservationNumberError(value.length < 1);\n    }\n  };\n\n  const searchReservation = () => {\n    setLoading(true);\n    setErrorMessage(\"\");\n    const data = {\n      id: reservationNumber,\n      mail: userEmail,\n      ci: userCi,\n    };\n    axios\n      .post(\"http://localhost:8080/coronavirus/vacunacion/cancelar\", data)\n      .then(function (response) {\n        const { data } = response;\n        if (!data.message.includes(\"cancelada con exito\")) {\n          setErrorMessage(\"No se encontro ninguna reserva\");\n          setLoading(false);\n        } else {\n          setDataFound(true);\n          setLoading(false);\n        }\n      })\n      .catch(function (error) {\n        setLoading(false);\n        setDataFound(false);\n        console.log(\"Error\", error);\n      });\n  };\n\n  useEffect(() => {}, []);\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      {!dataFound && (\n        <div>\n          <Title text=\"Cancelar Reserva\" />\n\n          <TextInput\n            id={\"userCI\"}\n            onChange={handleInput}\n            label={\"Cedula de Identidad\"}\n            name={\"userCI\"}\n            error={ciError}\n            errorMessage={\"Ingrese una C.I valida\"}\n            type={\"number\"}\n          />\n          <TextInput\n            id={\"userEmail\"}\n            onChange={handleInput}\n            label={\"Correo Electronico\"}\n            name={\"userEmail\"}\n            error={emailError}\n            errorMessage={\"Ingrese un email valido\"}\n            type={\"email\"}\n          />\n          <TextInput\n            id={\"reservationNumber\"}\n            onChange={handleInput}\n            label={\"CÃ³digo de reserva\"}\n            name={\"reservationNumber\"}\n            error={reservationNumberError}\n            errorMessage={\"Ingrese un numero valido\"}\n            type={\"number\"}\n          />\n\n          {!errorMessage && (\n            <ClipLoader\n              color={\"blue\"}\n              loading={loading}\n              css={{ marginVertical: 50 }}\n              size={30}\n            />\n          )}\n\n          {errorMessage && <div style={{ color: \"red\" }}> {errorMessage} </div>}\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            className={classes.submit}\n            disabled={\n              loading ||\n              reservationNumberError ||\n              reservationNumber.length < 1 ||\n              ciError ||\n              emailError ||\n              errorMessage\n            }\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={searchReservation}\n          >\n            Buscar Reserva\n          </Button>\n        </div>\n      )}\n\n      {dataFound && (\n        <div>\n          <Title text=\"Reserva Cancelada con Exito\" white />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            disabled={loading}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => {\n              setLoading(false);\n              setDataFound(false);\n              setUserCi(\"\");\n              setReservationNumber(\"\");\n              setErrorMessage(\"\");\n              history.push(\"/\");\n            }}\n          >\n            Volver\n          </Button>\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default CancelReservation;\n"]},"metadata":{},"sourceType":"module"}