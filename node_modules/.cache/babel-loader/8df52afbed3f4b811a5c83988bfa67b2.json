{"ast":null,"code":"var _jsxFileName = \"/Users/nicolaspavon/Desktop/ReposFacu/seguridadFE/src/Screens/ReservationStatus.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button, Container } from \"@material-ui/core\";\nimport { TextInput, Title } from \"../Components\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\").default;\n\nconst capitalize = phrase => {\n  return phrase.charAt(0).toUpperCase() + phrase.slice(1);\n};\n\nconst ReservationStatus = () => {\n  _s();\n\n  moment.locale(\"es\");\n  var localLocale = moment();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [dataFound, setDataFound] = useState(false);\n  const [place, setPlace] = useState(\"\");\n  const [firstDosis, setFirstDosis] = useState(\"\");\n  const [secondDosis, setSecondDosis] = useState(\"\");\n  const [reservationNumber, setReservationNumber] = useState(\"\");\n\n  const handleInput = e => {\n    const {\n      value,\n      name\n    } = e.target;\n\n    if (name === \"reservationNumber\") {\n      setReservationNumber(value); // setnameError(!validateName(value) || value.length <= 2);\n    }\n  };\n\n  const formatDate = date => {\n    const dia = moment(date).format(\"dddd\");\n    const fecha = moment(date).format(\"LL\");\n    return dia + \" \" + fecha + \" a las \" + (\"HORA\", moment(date).format(\"LT\")) + \" hs\";\n  };\n\n  const searchReservation = () => {\n    setLoading(true);\n    axios.get(\"http://localhost:8080/coronavirus/statusreserva/\" + reservationNumber).then(function (response) {\n      var _response$data;\n\n      setErrorMessage(\"\");\n      setDataFound(false);\n\n      if (response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message) {\n        setErrorMessage(\"No se encontro ninguna reserva\");\n        setLoading(false);\n      } else {\n        const {\n          fecha_vac_1,\n          fecha_vac_2,\n          locacion\n        } = response.data;\n        setPlace(locacion);\n        const fechaPrimerDosis = formatDate(fecha_vac_1);\n        setFirstDosis(capitalize(fechaPrimerDosis));\n        const fechaSegundaDosis = formatDate(fecha_vac_2);\n        setSecondDosis(capitalize(fechaSegundaDosis));\n        setDataFound(true);\n        setLoading(false);\n      }\n    }).catch(function (error) {\n      setLoading(false);\n      setDataFound(false);\n      console.log(\"Error\", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    children: [!dataFound && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        text: \"Ingrese el numero de reserva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        id: \"reservationNumber\",\n        onChange: handleInput,\n        label: \"Numero de Reserva\",\n        name: \"reservationNumber\",\n        autoFocus: true,\n        error: false,\n        errorMessage: \"Ingrese un numero valido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), !errorMessage && /*#__PURE__*/_jsxDEV(ClipLoader, {\n        color: \"blue\",\n        loading: loading,\n        css: {\n          marginVertical: 50\n        },\n        size: 30\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        children: [\" \", errorMessage, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        disabled: loading,\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: searchReservation,\n        children: \"Buscar Reserva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), dataFound && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        text: \"Numero de Reserva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: reservationNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        text: \"Vacunatorio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: place\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        text: \"Primera Dosis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: firstDosis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        text: \"Segunda Dosis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: secondDosis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this), dataFound && /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      disabled: loading,\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => {\n        setLoading(false);\n        setDataFound(false);\n        setPlace(\"\");\n        setPlace(\"\");\n        setFirstDosis(\"\");\n        setSecondDosis(\"\");\n        setReservationNumber(\"\");\n        setErrorMessage(\"\");\n      },\n      children: \"Realizar otra Consulta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ReservationStatus, \"j7mMcp+EUqub2xbpjQo2qEcNJrc=\");\n\n_c = ReservationStatus;\nexport default ReservationStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReservationStatus\");","map":{"version":3,"sources":["/Users/nicolaspavon/Desktop/ReposFacu/seguridadFE/src/Screens/ReservationStatus.jsx"],"names":["React","useState","Button","Container","TextInput","Title","ClipLoader","moment","axios","require","default","capitalize","phrase","charAt","toUpperCase","slice","ReservationStatus","locale","localLocale","errorMessage","setErrorMessage","loading","setLoading","dataFound","setDataFound","place","setPlace","firstDosis","setFirstDosis","secondDosis","setSecondDosis","reservationNumber","setReservationNumber","handleInput","e","value","name","target","formatDate","date","dia","format","fecha","searchReservation","get","then","response","data","message","fecha_vac_1","fecha_vac_2","locacion","fechaPrimerDosis","fechaSegundaDosis","catch","error","console","log","marginVertical","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Container } from \"@material-ui/core\";\nimport { TextInput, Title } from \"../Components\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\n\nconst axios = require(\"axios\").default;\n\nconst capitalize = (phrase) => {\n  return phrase.charAt(0).toUpperCase() + phrase.slice(1);\n};\n\nconst ReservationStatus = () => {\n  moment.locale(\"es\");\n  var localLocale = moment();\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [dataFound, setDataFound] = useState(false);\n  const [place, setPlace] = useState(\"\");\n  const [firstDosis, setFirstDosis] = useState(\"\");\n  const [secondDosis, setSecondDosis] = useState(\"\");\n  const [reservationNumber, setReservationNumber] = useState(\"\");\n\n  const handleInput = (e) => {\n    const { value, name } = e.target;\n    if (name === \"reservationNumber\") {\n      setReservationNumber(value);\n      // setnameError(!validateName(value) || value.length <= 2);\n    }\n  };\n\n  const formatDate = (date) => {\n    const dia = moment(date).format(\"dddd\");\n    const fecha = moment(date).format(\"LL\");\n    return (\n      dia +\n      \" \" +\n      fecha +\n      \" a las \" +\n      (\"HORA\", moment(date).format(\"LT\")) +\n      \" hs\"\n    );\n  };\n\n  const searchReservation = () => {\n    setLoading(true);\n    axios\n      .get(\n        \"http://localhost:8080/coronavirus/statusreserva/\" + reservationNumber\n      )\n      .then(function (response) {\n        setErrorMessage(\"\");\n        setDataFound(false);\n        if (response?.data?.message) {\n          setErrorMessage(\"No se encontro ninguna reserva\");\n          setLoading(false);\n        } else {\n          const { fecha_vac_1, fecha_vac_2, locacion } = response.data;\n          setPlace(locacion);\n\n          const fechaPrimerDosis = formatDate(fecha_vac_1);\n\n          setFirstDosis(capitalize(fechaPrimerDosis));\n\n          const fechaSegundaDosis = formatDate(fecha_vac_2);\n\n          setSecondDosis(capitalize(fechaSegundaDosis));\n          setDataFound(true);\n          setLoading(false);\n        }\n      })\n      .catch(function (error) {\n        setLoading(false);\n        setDataFound(false);\n        console.log(\"Error\", error);\n      });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      {!dataFound && (\n        <div>\n          <Title text=\"Ingrese el numero de reserva\" />\n          <TextInput\n            id={\"reservationNumber\"}\n            onChange={handleInput}\n            label={\"Numero de Reserva\"}\n            name={\"reservationNumber\"}\n            autoFocus={true}\n            error={false}\n            errorMessage={\"Ingrese un numero valido\"}\n          />\n\n          {!errorMessage && (\n            <ClipLoader\n              color={\"blue\"}\n              loading={loading}\n              css={{ marginVertical: 50 }}\n              size={30}\n            />\n          )}\n\n          {errorMessage && <div style={{ color: \"red\" }}> {errorMessage} </div>}\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            disabled={loading}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={searchReservation}\n          >\n            Buscar Reserva\n          </Button>\n        </div>\n      )}\n\n      {dataFound && (\n        <div>\n          <Title text=\"Numero de Reserva\" />\n          <h3>{reservationNumber}</h3>\n          <Title text=\"Vacunatorio\" />\n          <h3>{place}</h3>\n          <Title text=\"Primera Dosis\" />\n          <h3>{firstDosis}</h3>\n          <Title text=\"Segunda Dosis\" />\n          <h3>{secondDosis}</h3>\n        </div>\n      )}\n\n      {dataFound && (\n        <Button\n          type=\"submit\"\n          fullWidth\n          disabled={loading}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {\n            setLoading(false);\n            setDataFound(false);\n            setPlace(\"\");\n            setPlace(\"\");\n            setFirstDosis(\"\");\n            setSecondDosis(\"\");\n            setReservationNumber(\"\");\n            setErrorMessage(\"\");\n          }}\n        >\n          Realizar otra Consulta\n        </Button>\n      )}\n    </Container>\n  );\n};\n\nexport default ReservationStatus;\n"]},"metadata":{},"sourceType":"module"}